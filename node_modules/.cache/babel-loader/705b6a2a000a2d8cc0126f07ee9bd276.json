{"ast":null,"code":"import _slicedToArray from\"C:/Users/Utilisateur/Desktop/DEV/Projet js/site dofus temporise 5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import FormulaireNewCraft from\"../component/FormulaireNewCraft\";import Recherche from\"../component/RechercheItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HomePage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAddCraft=_useState2[0],setshowAddCraft=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showRecherche=_useState4[0],setshowRecherche=_useState4[1];var _useState5=useState('Craft'),_useState6=_slicedToArray(_useState5,2),ValueCraftButton=_useState6[0],setValueCraftButton=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),ShowVideo=_useState8[0],setShowVideo=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),NbrRequest=_useState10[0],setNbrRequest=_useState10[1];var _useState11=useState(\"http://167.172.176.232:8888/GetSong/1\"),_useState12=_slicedToArray(_useState11,2),son=_useState12[0],setson=_useState12[1];useEffect(function(){if(props.Status===400||props.Status===500){setson(props.lienBack+\"/GetSong/\"+NbrRequest);if(document.getElementById(\"AudioDiv\"))document.getElementById(\"AudioDiv\").load();setNbrRequest(NbrRequest+1);console.log(NbrRequest);// document.getElementsByClassName(\"audio-element\")\nvar audioEl=document.getElementById(\"AudioDiv\");audioEl.pause();audioEl.play();if(props.RequestStatusFrom!==\"/GetCraft\")document.getElementById(\"btnCraft\").classList.add('Shake-button');else document.getElementById(\"btnRecherche\").classList.add('Shake-button');setTimeout(function(){if(props.RequestStatusFrom!==\"/GetCraft\")document.getElementById(\"btnCraft\").classList.remove('Shake-button');else document.getElementById(\"btnRecherche\").classList.remove('Shake-button');props.ResetStatus();},830);}else{var _audioEl=document.getElementById(\"AudioDiv\");if(_audioEl)_audioEl.pause();}},[props.NbrRequest]);function NormalizeString(Param){return Param.replaceAll(' ','_').normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").toLowerCase();}function HideAddCraft(){if(document.getElementById(\"InputCarte1\")){var Carte1=document.getElementById(\"InputCarte1\").value;var Carte2=document.getElementById(\"InputCarte2\").value;var Carte3=document.getElementById(\"InputCarte3\").value;var Carte4=document.getElementById(\"InputCarte4\").value;var Carte5=document.getElementById(\"InputCarte5\").value;var Item=document.getElementById(\"ItemCraft\").value;if(Carte1&&Carte2&&Carte3&&Carte4&&Carte5&&Item){props.NewCraft({\"carte1\":NormalizeString(Carte1),\"carte2\":NormalizeString(Carte2),\"carte3\":NormalizeString(Carte3),\"carte4\":NormalizeString(Carte4),\"carte5\":NormalizeString(Carte5),\"items\":NormalizeString(Item)});}}}var ShowCraftMenu=function ShowCraftMenu(e){if(ValueCraftButton===\"Craft\")setValueCraftButton('Envoyer');else{setValueCraftButton('Craft');}setshowAddCraft(!showAddCraft);showRecherche&&setshowRecherche(!showRecherche);};var ShowRechercheMenu=function ShowRechercheMenu(){if(showRecherche){if(document.getElementById(\"ItemRecette1\").value){props.Rechercherecette({name:NormalizeString(document.getElementById(\"ItemRecette1\").value)});}}else{setshowRecherche(!showRecherche);}showAddCraft&&setshowAddCraft(!showAddCraft);setValueCraftButton('Craft');};function SpeedIncreas(){if(document.getElementById(\"IdVideo\")){document.getElementById(\"IdVideo\").playbackRate=2;}}function RefreshPage(){props.RefreshPage(\"/GetNewCraft/\");}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"video\",{id:\"IdVideo\",autoPlay:true,onPlay:SpeedIncreas,muted:true,className:\"Background-video\",onEnded:function onEnded(){return setShowVideo(!ShowVideo);},children:/*#__PURE__*/_jsx(\"source\",{src:props.lienBack+\"/GetVideo/\",type:\"video/mp4\"})}),!ShowVideo&&/*#__PURE__*/_jsxs(\"div\",{className:\"background Fade-in\",children:[/*#__PURE__*/_jsx(\"audio\",{id:\"AudioDiv\",className:\"audio-element\",children:/*#__PURE__*/_jsx(\"source\",{id:\"SourceAudio\",src:son})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\"}),/*#__PURE__*/_jsx(\"menu\",{className:\"Menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-clounm-center\",children:[showAddCraft?/*#__PURE__*/_jsx(FormulaireNewCraft,{ListItem:props.ListItem,ListeCarte:props.ListeCarte,matches:props.matches}):HideAddCraft(),/*#__PURE__*/_jsx(\"button\",{id:\"btnCraft\",className:\"button-menu button-craft\",onClick:ShowCraftMenu,children:ValueCraftButton}),/*#__PURE__*/_jsx(\"button\",{id:\"btnRecherche\",className:\"button-menu button-recherche\",onClick:ShowRechercheMenu,children:\"Recherche\"}),showRecherche&&/*#__PURE__*/_jsx(Recherche,{Recette:props.Recette,ListItem:props.ListItem,matches:props.matches}),/*#__PURE__*/_jsx(Link,{onClick:RefreshPage,to:\"/BDP\",className:\"button-menu button-Base-donner\",children:\"Base de donn\\xE9e\"})]})})]})]})});}export default HomePage;","map":{"version":3,"sources":["C:/Users/Utilisateur/Desktop/DEV/Projet js/site dofus temporise 5/src/Pages/HomePage.js"],"names":["useState","useEffect","Link","FormulaireNewCraft","Recherche","HomePage","props","showAddCraft","setshowAddCraft","showRecherche","setshowRecherche","ValueCraftButton","setValueCraftButton","ShowVideo","setShowVideo","NbrRequest","setNbrRequest","son","setson","Status","lienBack","document","getElementById","load","console","log","audioEl","pause","play","RequestStatusFrom","classList","add","setTimeout","remove","ResetStatus","NormalizeString","Param","replaceAll","normalize","replace","toLowerCase","HideAddCraft","Carte1","value","Carte2","Carte3","Carte4","Carte5","Item","NewCraft","ShowCraftMenu","e","ShowRechercheMenu","Rechercherecette","name","SpeedIncreas","playbackRate","RefreshPage","ListItem","ListeCarte","matches","Recette"],"mappings":"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","sourcesContent":["import { useState ,useEffect} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport FormulaireNewCraft from \"../component/FormulaireNewCraft\"\r\nimport Recherche from \"../component/RechercheItem\"\r\n\r\n\r\nfunction HomePage(props) {\r\n  const [showAddCraft, setshowAddCraft] = useState(false)\r\n  const [showRecherche, setshowRecherche] = useState(false)\r\n  const [ValueCraftButton, setValueCraftButton] = useState('Craft')\r\n  const [ShowVideo, setShowVideo] = useState(true)\r\n  const [NbrRequest, setNbrRequest] = useState(10)\r\n\r\n  const [son, setson] = useState(\"http://167.172.176.232:8888/GetSong/1\")\r\n  \r\n  useEffect(() => {\r\n    if(props.Status===400 || props.Status===500)\r\n    {\r\n      setson(props.lienBack + \"/GetSong/\"+NbrRequest)\r\n      if (document.getElementById(\"AudioDiv\"))\r\n        document.getElementById(\"AudioDiv\").load()\r\n      setNbrRequest(NbrRequest+1)\r\n      console.log(NbrRequest)\r\n      // document.getElementsByClassName(\"audio-element\")\r\n      const audioEl = document.getElementById(\"AudioDiv\")\r\n      audioEl.pause()\r\n      audioEl.play()\r\n      if(props.RequestStatusFrom!==\"/GetCraft\")\r\n        document.getElementById(\"btnCraft\").classList.add('Shake-button')\r\n      else\r\n        document.getElementById(\"btnRecherche\").classList.add('Shake-button')\r\n      \r\n      setTimeout(() => {   \r\n        if(props.RequestStatusFrom!==\"/GetCraft\")\r\n          document.getElementById(\"btnCraft\").classList.remove('Shake-button')\r\n        else\r\n          document.getElementById(\"btnRecherche\").classList.remove('Shake-button')\r\n        props.ResetStatus();\r\n      }, 830);\r\n    }\r\n    else\r\n    {\r\n      const audioEl = document.getElementById(\"AudioDiv\")\r\n      if(audioEl)\r\n        audioEl.pause()\r\n    }\r\n  }, [props.NbrRequest])\r\n\r\n  \r\n  function NormalizeString(Param)\r\n  {\r\n    return Param.replaceAll(' ','_').normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\r\n  }\r\n\r\n  function HideAddCraft()\r\n  {\r\n    if(document.getElementById(\"InputCarte1\"))\r\n    {\r\n      let Carte1=document.getElementById(\"InputCarte1\").value;\r\n      let Carte2=document.getElementById(\"InputCarte2\").value;\r\n      let Carte3=document.getElementById(\"InputCarte3\").value;\r\n      let Carte4=document.getElementById(\"InputCarte4\").value;\r\n      let Carte5=document.getElementById(\"InputCarte5\").value;\r\n      let Item=document.getElementById(\"ItemCraft\").value;\r\n      if(Carte1 && Carte2 && Carte3 && Carte4 && Carte5 && Item)\r\n      {\r\n         props.NewCraft({\"carte1\":NormalizeString(Carte1),\"carte2\":NormalizeString(Carte2),\"carte3\":NormalizeString(Carte3),\"carte4\":NormalizeString(Carte4),\"carte5\":NormalizeString(Carte5),\"items\":NormalizeString(Item)})\r\n      }\r\n    }\r\n  }\r\n  const ShowCraftMenu = (e)=>{\r\n    \r\n    if(ValueCraftButton===\"Craft\")\r\n      setValueCraftButton('Envoyer')\r\n    else{\r\n      setValueCraftButton('Craft')\r\n    }\r\n    setshowAddCraft(!showAddCraft)\r\n    showRecherche && setshowRecherche(!showRecherche)\r\n  }\r\n  const ShowRechercheMenu = () =>{\r\n    if(showRecherche)\r\n    {\r\n      if(document.getElementById(\"ItemRecette1\").value){\r\n        props.Rechercherecette({name:NormalizeString(document.getElementById(\"ItemRecette1\").value)})\r\n      }\r\n    }  \r\n    else{\r\n        setshowRecherche(!showRecherche)\r\n    }\r\n    showAddCraft && setshowAddCraft(!showAddCraft); setValueCraftButton('Craft')\r\n  }\r\n  function SpeedIncreas()\r\n  {\r\n    if(document.getElementById(\"IdVideo\")){\r\n      document.getElementById(\"IdVideo\").playbackRate=2;\r\n    }\r\n  }\r\n  function RefreshPage()\r\n  {\r\n    props.RefreshPage(\"/GetNewCraft/\")\r\n  }\r\n\r\n  \r\n  return (\r\n    <>\r\n      {\r\n        <>\r\n        <video id=\"IdVideo\" autoPlay onPlay={SpeedIncreas} muted className=\"Background-video\" onEnded={() => setShowVideo(!ShowVideo)}><source src={props.lienBack + \"/GetVideo/\"} type=\"video/mp4\"></source></video>\r\n        {\r\n          !ShowVideo &&\r\n          <div className=\"background Fade-in\">\r\n            <audio id=\"AudioDiv\" className=\"audio-element\">\r\n                <source  id=\"SourceAudio\"  src={son}></source>\r\n            </audio>\r\n            \r\n            <div className=\"logo\"></div>\r\n            <menu className=\"Menu\" >\r\n              <div  className=\"flex-clounm-center\" >\r\n                {showAddCraft ? <FormulaireNewCraft ListItem={props.ListItem} ListeCarte={props.ListeCarte} matches={props.matches}/> : HideAddCraft()}\r\n                <button id=\"btnCraft\" className=\"button-menu button-craft\" onClick={ShowCraftMenu} >{ValueCraftButton}</button>\r\n                <button id=\"btnRecherche\" className=\"button-menu button-recherche\" onClick={ShowRechercheMenu}>Recherche</button>\r\n                {showRecherche && <Recherche Recette={props.Recette} ListItem={props.ListItem} matches={props.matches} />}\r\n                <Link  onClick={RefreshPage} to=\"/BDP\" className=\"button-menu button-Base-donner\" >Base de donnée</Link>\r\n              </div>\r\n            </menu> \r\n          </div>\r\n        }\r\n        </>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}