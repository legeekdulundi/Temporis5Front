{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Desktop\\\\DEV\\\\Projet js\\\\site dofus temporise 5\\\\src\\\\Manager.js\",\n    _s2 = $RefreshSig$();\n\nimport HomePage from \"./Pages/HomePage\";\nimport { useState, useEffect, useRef } from 'react';\nimport DBPage from \"./Pages/DBPage\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Manager() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [RecetteRecherche, setRecetteRecherche] = useState([]);\n  const [ListItem, setListItem] = useState([]);\n  const [ListeCarte, setListeCarte] = useState([]);\n  const [RequestStatus, setRequestStatus] = useState(0);\n  const [RequestStatusFrom, setRequestStatusFrom] = useState('');\n  const [ListeRecette, setListeRecette] = useState([]);\n  const [NbrRequest, setNbrRequest] = useState(0);\n  const [LienBack] = useState('http://localhost:8888');\n  const mediaMatch = window.matchMedia('(min-width: 600px)');\n  const [matches] = useState(mediaMatch.matches);\n  useEffect(() => {\n    GetListItem();\n    GetListCarte();\n    GetListeRecette(\"/GetNewCraft/\");\n  }, []);\n\n  async function GetListItem() {\n    fetch(LienBack + '/GetItemsCraft/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(function (res) {\n      // res.items.\n      res.LitseItems.forEach(element => {\n        element = element.replaceAll('_', ' ');\n      });\n      setListItem(res.LitseItems);\n    });\n  }\n\n  async function GetListCarte() {\n    fetch(LienBack + '/GetCarte/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(function (res) {\n      // res.items.\n      setListeCarte(res.Carte);\n    });\n  }\n\n  function NewCraft(Craft) {\n    fetch(LienBack + '/AddCraft/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Craft)\n    }).then(res => res.json()).then(function (res) {\n      setRequestStatusFrom(res.Api);\n      setRequestStatus(res.statut);\n      setNbrRequest(NbrRequest + 1);\n    });\n  }\n\n  function GetListeRecette(Url) {\n    fetch(LienBack + Url, {\n      method: 'get',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(function (res) {\n      // res.items.\n      setListeRecette(res.listeCraft);\n    });\n  }\n\n  function GetRecetteWithCarte(Param) {\n    fetch(LienBack + '/GetCraftCarte/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Param)\n    }).then(res => res.json()).then(function (res) {\n      if (res.statut === 200) {\n        setListeRecette(res.listeCraft);\n      } else setListeRecette([]);\n    });\n  }\n\n  function GetRecetteWithItem(Param) {\n    fetch(LienBack + '/GetCraft/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Param)\n    }).then(res => res.json()).then(function (res) {\n      if (res.statut === 200) setListeRecette(res.listeCraft);else {\n        setListeRecette([]);\n      }\n    });\n  }\n\n  function ResetStatus() {\n    setRequestStatus(0);\n  }\n\n  function Rechercherecette(Item) {\n    fetch(LienBack + '/GetCraft/', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Item)\n    }).then(res => res.json()).then(function (res) {\n      if (res.statut !== 400) {\n        setRecetteRecherche(res.listeCraft[0]);\n      }\n\n      setRequestStatusFrom(res.Api);\n      setRequestStatus(res.statut);\n      setNbrRequest(NbrRequest + 1);\n    });\n  }\n\n  function DeleteItem(Item) {\n    fetch(LienBack + '/DeleteCraft/', {\n      method: 'delete',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Item)\n    }).then(res => res.json()).then(function (res) {\n      if (RequestStatus === 0) {\n        if (res.statut !== 400) GetListeRecette(\"/GetNewCraft/\");\n      }\n    });\n  }\n\n  function ModifItem(Item) {\n    fetch(LienBack + '/ChangeCtaft/', {\n      method: 'put',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(Item)\n    }).then(res => res.json()).then(function (res) {\n      // if(res.statut!==400)\n      GetListeRecette(\"/GetNewCraft/\");\n    });\n  } // function GetItemsKnow()\n  // {\n  //   fetch(LienBack + '/GetItemsCraft/', {\n  //       method: 'post',\n  //       headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\n  //     }).then(res=>res.json())\n  //     .then(function(res) \n  //     {\n  //         // if(res.statut!==400)\n  //         console.log(res)\n  //     });\n  // }\n\n\n  const [son, setson] = useState(LienBack + \"/GetSong/1\");\n  const [count, setCount] = useState(0);\n  useInterval(() => {\n    const audioEl = document.getElementById(\"Audio\");\n\n    if (audioEl.paused) {\n      setson(LienBack + \"/GetSong/\" + count);\n      document.getElementById(\"Audio\").load();\n      setCount(count + 1);\n      if (audioEl) audioEl.play();\n    }\n  }, Math.floor(Math.random() * 2400000) + 1200000);\n\n  function useInterval(callback, delay) {\n    _s();\n\n    const savedCallback = useRef(); // Remember the latest function.\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]); // Set up the interval.\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  } // RefreshPage={GetListeRecette(\"GetNewCraft/\")}\n\n\n  _s(useInterval, \"dqNZMqbncP+HtqBlD20aSNv0Ugk=\");\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(HomePage, {\n          NewCraft: NewCraft,\n          NbrRequest: NbrRequest,\n          ResetStatus: ResetStatus,\n          Rechercherecette: Rechercherecette,\n          Recette: RecetteRecherche,\n          ListItem: ListItem,\n          ListeCarte: ListeCarte,\n          RefreshPage: GetListeRecette,\n          Status: RequestStatus,\n          matches: matches,\n          RequestStatusFrom: RequestStatusFrom,\n          lienBack: LienBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/BDP\",\n        children: /*#__PURE__*/_jsxDEV(DBPage, {\n          ListItem: ListItem,\n          ListeCarte: ListeCarte,\n          ListeRecette: ListeRecette,\n          GetRecetteWithItem: GetRecetteWithItem,\n          GetRecetteWithCarte: GetRecetteWithCarte,\n          DeleteItem: DeleteItem,\n          ModifItem: ModifItem,\n          matches: matches\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      id: \"Audio\",\n      className: \"audio-element\",\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: son\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Manager, \"y12rpGGkwhXWvyrQ8AjMRoibyuc=\", false, function () {\n  return [useInterval];\n});\n\n_c = Manager;\nexport default Manager;\n\nvar _c;\n\n$RefreshReg$(_c, \"Manager\");","map":{"version":3,"sources":["C:/Users/Utilisateur/Desktop/DEV/Projet js/site dofus temporise 5/src/Manager.js"],"names":["HomePage","useState","useEffect","useRef","DBPage","BrowserRouter","Router","Switch","Route","Manager","RecetteRecherche","setRecetteRecherche","ListItem","setListItem","ListeCarte","setListeCarte","RequestStatus","setRequestStatus","RequestStatusFrom","setRequestStatusFrom","ListeRecette","setListeRecette","NbrRequest","setNbrRequest","LienBack","mediaMatch","window","matchMedia","matches","GetListItem","GetListCarte","GetListeRecette","fetch","method","headers","then","res","json","LitseItems","forEach","element","replaceAll","Carte","NewCraft","Craft","body","JSON","stringify","Api","statut","Url","listeCraft","GetRecetteWithCarte","Param","GetRecetteWithItem","ResetStatus","Rechercherecette","Item","DeleteItem","ModifItem","son","setson","count","setCount","useInterval","audioEl","document","getElementById","paused","load","play","Math","floor","random","callback","delay","savedCallback","current","tick","id","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import HomePage from \"./Pages/HomePage\"\r\nimport { useState,useEffect,useRef} from 'react';\r\nimport DBPage from \"./Pages/DBPage\"\r\nimport {  BrowserRouter as Router, Switch, Route,} from \"react-router-dom\";\r\n\r\n\r\nfunction Manager() {\r\n  const [RecetteRecherche, setRecetteRecherche] = useState([]);\r\n  const [ListItem, setListItem] = useState([]);\r\n  const [ListeCarte, setListeCarte] = useState([]);\r\n  \r\n  const [RequestStatus, setRequestStatus] = useState(0);\r\n  const [RequestStatusFrom, setRequestStatusFrom] = useState('');\r\n  const [ListeRecette, setListeRecette] = useState([]);\r\n  const [NbrRequest, setNbrRequest] = useState(0);\r\n\r\n  const [LienBack] = useState('http://localhost:8888');\r\n\r\n  const mediaMatch = window.matchMedia('(min-width: 600px)');\r\n  const [matches] = useState(mediaMatch.matches);\r\n\r\n\r\n  useEffect(() => {\r\n    GetListItem()\r\n    GetListCarte()\r\n    GetListeRecette(\"/GetNewCraft/\");\r\n  }, [])\r\n  async function GetListItem()\r\n  {\r\n    fetch(LienBack + '/GetItemsCraft/', {\r\n      method: 'post',\r\n      headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n    }).then(res=>res.json())\r\n    .then(function(res){\r\n      // res.items.\r\n      res.LitseItems.forEach(element => {\r\n        element=element.replaceAll('_',' ')\r\n      });\r\n      setListItem(res.LitseItems)\r\n    });\r\n  }\r\n  async function GetListCarte()\r\n  {\r\n    fetch(LienBack + '/GetCarte/', {\r\n      method: 'post',\r\n      headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n    }).then(res=>res.json())\r\n    .then(function(res){\r\n      // res.items.\r\n      setListeCarte(res.Carte)\r\n    });\r\n  }\r\n\r\n  function NewCraft(Craft)\r\n  {\r\n    fetch(LienBack + '/AddCraft/', {\r\n        method: 'post',\r\n        headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n        body: JSON.stringify(Craft)\r\n      }).then(res=>res.json())\r\n      .then(function(res) \r\n      {\r\n          setRequestStatusFrom(res.Api);\r\n          setRequestStatus(res.statut);\r\n          setNbrRequest(NbrRequest+1);\r\n      });\r\n  }\r\n  function GetListeRecette(Url)\r\n  {\r\n    fetch(LienBack + Url, {\r\n      method: 'get',\r\n      headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n    }).then(res=>res.json())\r\n    .then(function(res){\r\n      // res.items.\r\n      setListeRecette(res.listeCraft)\r\n    });\r\n  }\r\n  function GetRecetteWithCarte(Param)\r\n  {\r\n    fetch(LienBack + '/GetCraftCarte/', {\r\n      method: 'post',\r\n      headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n      body: JSON.stringify(Param)\r\n    }).then(res=>res.json())\r\n    .then(function(res) \r\n    {\r\n      if(res.statut===200)\r\n      {\r\n         setListeRecette(res.listeCraft)\r\n      }\r\n      else\r\n        setListeRecette([])\r\n        \r\n    });\r\n  }\r\n  function GetRecetteWithItem(Param)\r\n  {\r\n    fetch(LienBack + '/GetCraft/', {\r\n      method: 'post',\r\n      headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n      body: JSON.stringify(Param)\r\n    }).then(res=>res.json())\r\n    .then(function(res) \r\n    {\r\n      if(res.statut===200)\r\n        setListeRecette(res.listeCraft)\r\n      else\r\n      {\r\n        \r\n        setListeRecette([])\r\n      }\r\n        \r\n    });\r\n  }\r\n  function ResetStatus(){setRequestStatus(0);}\r\n  function Rechercherecette(Item)\r\n  {\r\n    fetch( LienBack + '/GetCraft/', {\r\n        method: 'post',\r\n        headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n        body: JSON.stringify(Item)\r\n      }).then(res=>res.json())\r\n      .then(function(res) \r\n      {\r\n          if(res.statut!==400)\r\n          {\r\n            setRecetteRecherche(res.listeCraft[0]);\r\n          }\r\n            \r\n          setRequestStatusFrom(res.Api);\r\n          setRequestStatus(res.statut);\r\n          setNbrRequest(NbrRequest+1);\r\n      });\r\n  }\r\n  function DeleteItem(Item)\r\n  {\r\n    fetch(LienBack + '/DeleteCraft/', {\r\n        method: 'delete',\r\n        headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n        body: JSON.stringify(Item)\r\n      }).then(res=>res.json())\r\n      .then(function(res) \r\n      {\r\n        if(RequestStatus===0)\r\n        {\r\n          if(res.statut!==400)\r\n            GetListeRecette(\"/GetNewCraft/\");\r\n        }\r\n      });\r\n  }\r\n  \r\n  function ModifItem(Item)\r\n  {\r\n    fetch(LienBack + '/ChangeCtaft/', {\r\n        method: 'put',\r\n        headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n        body: JSON.stringify(Item)\r\n      }).then(res=>res.json())\r\n      .then(function(res) \r\n      {\r\n          // if(res.statut!==400)\r\n          GetListeRecette(\"/GetNewCraft/\");\r\n      });\r\n  }\r\n\r\n  // function GetItemsKnow()\r\n  // {\r\n  //   fetch(LienBack + '/GetItemsCraft/', {\r\n  //       method: 'post',\r\n  //       headers: {'Accept': 'application/json, text/plain, */*','Content-Type': 'application/json'},\r\n  //     }).then(res=>res.json())\r\n  //     .then(function(res) \r\n  //     {\r\n  //         // if(res.statut!==400)\r\n  //         console.log(res)\r\n  //     });\r\n  // }\r\n  \r\n  const [son, setson] = useState(LienBack + \"/GetSong/1\")\r\n  const [count, setCount] = useState(0);\r\n  useInterval(() => {\r\n    const audioEl = document.getElementById(\"Audio\")\r\n    if(audioEl.paused)\r\n    {\r\n      setson(LienBack + \"/GetSong/\"+ count)\r\n      document.getElementById(\"Audio\").load()\r\n      setCount(count+1)\r\n      if (audioEl)\r\n        audioEl.play()\r\n    }\r\n  }, Math.floor(Math.random() * 2400000) +1200000); \r\n  \r\n\r\n  function useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n  \r\n    // Remember the latest function.\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n  \r\n    // Set up the interval.\r\n    useEffect(() => {\r\n      function tick() {\r\n        savedCallback.current();\r\n      }\r\n      if (delay !== null) {\r\n        let id = setInterval(tick, delay);\r\n        return () => clearInterval(id);\r\n      }\r\n    }, [delay]);\r\n  }\r\n  \r\n  // RefreshPage={GetListeRecette(\"GetNewCraft/\")}\r\n  return (\r\n    <Router>\r\n      <Switch> \r\n        <Route exact path=\"/\">\r\n            <HomePage NewCraft={NewCraft} NbrRequest={NbrRequest} ResetStatus={ResetStatus} Rechercherecette={Rechercherecette} \r\n            Recette={RecetteRecherche} ListItem={ListItem} ListeCarte={ListeCarte} RefreshPage={GetListeRecette}  Status={RequestStatus} matches={matches}\r\n            RequestStatusFrom={RequestStatusFrom} lienBack={LienBack}/>\r\n        </Route>\r\n        <Route exact path=\"/BDP\">\r\n            <DBPage ListItem={ListItem} ListeCarte={ListeCarte} ListeRecette={ListeRecette} GetRecetteWithItem={GetRecetteWithItem}\r\n            GetRecetteWithCarte={GetRecetteWithCarte} DeleteItem={DeleteItem} ModifItem={ModifItem} matches={matches}/>\r\n        </Route>\r\n      </Switch>\r\n      <audio id=\"Audio\" className=\"audio-element\">\r\n          <source  src={son}></source>\r\n      </audio>\r\n      {/* <audio id=\"AudioDiv2\" className=\"audio-element\">\r\n          <source  id=\"SourceAudio2\"  src={son}></source>\r\n      </audio> */}\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Manager;\r\n"]},"metadata":{},"sourceType":"module"}